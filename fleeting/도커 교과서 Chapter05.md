---
title: 도커 교과서 Chapter05
aliases: 
categories: 
tags:
  - docker
created: 2024-02-15 16:18
---

## 도커 허브 등 레지스트리에 이미지 공유하기

이미지에 새로운 이미지 참조를 부여
`docker image tag [image name] [image name]:v1`

이미지 참조 목록 확인

`docker image ls --filter reference=[image name] --filter reference='*/[image name]'

레지스트리 역시 도커 엔진과 같은 방식으로 이미지 레이어를 다루면 그만큼 Dockerfile 스크립트의 최적화가 더욱 중요해진다.
레지스트리에서도 캐시상에 레이어 해시와 일치하는 레이어가 없을 경우에만 실제로 업로드가 이뤄진다.

도커 이미지 태그에는 어떤 문자열이라도 포함시킬 수 있다. 앞서 이미 봤듯이 같은 이미지에 여러 개의 태그를 부여하는 것도 가능하다. 태그를 통해 버전을 구별하고 이미지를 사용할 다른 사람들이 자신이 원하는 이미지가 무엇인지 찾을 수 있다.
직접 작성한 Dockerfile 스크립트의 기반 이미지는 가능한 한 정확한 버전을 지정하는 것이 좋다.
개발 팀과 동일한 도구로 빌드하고 동일한 런타임을 사용해 실행할 수 있기 때문이다.
버전을 구체적으로 지정하지 않으면 향후 문제가 생기기 쉽다.
빌드용 이미지가 업데이트되면서 빌드가 깨질 수도 있고, 런타임의 업데이트로 인해 애플리케이션 실행 과정에서 오류가 발생할 수도 있다.
